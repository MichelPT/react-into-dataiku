(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{850:(e,t,r)=>{Promise.resolve().then(r.bind(r,7513))},1154:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1380:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},7434:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7513:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var a=r(5155),s=r(2115),l=r(5695),c=r(1380),n=r(1154),i=r(7434),u=r(9509);function o(e){let{initialData:t}=e,r=(0,l.useRouter)(),[o]=(0,s.useState)(t),[d,m]=(0,s.useState)(null),[h,x]=(0,s.useState)(null),[f,b]=(0,s.useState)(null),[g,p]=(0,s.useState)(null),[w,y]=(0,s.useState)(!1),[v,N]=(0,s.useState)(!1),j=async e=>{if(d!==e){m(e),x(null),p(null),y(!0);try{let t=o.fields.find(t=>t.field_name===e);if(t){let r=t.structures.reduce((e,t)=>e+t.wells_count,0),a=t.structures.reduce((e,t)=>e+t.total_records,0);b({field_name:e,structures:t.structures.map(e=>({structure_name:e.structure_name,file_path:e.file_path,wells:e.wells,wells_count:e.wells_count,total_records:e.total_records,columns:e.columns,sample_data:[]})),total_wells:r,total_records:a,all_wells:[]})}}catch(e){console.error("Error loading field details:",e)}finally{y(!1)}}},_=async e=>{try{let t=(null==d?void 0:d.toLowerCase())||"",r="",a="";if("adera"===t?(r="adera","abab"===e.toLowerCase()?a="abab":"benuang"===e.toLowerCase()&&(a="benuang")):"prabumulih"===t&&(r="prabumulih",(e.toLowerCase().includes("gunung")||e.toLowerCase().includes("kemala"))&&(a="gunungkemala")),r&&a){let e=u.env.NEXT_PUBLIC_API_URL;(await fetch("".concat(e,"/api/select-structure"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({field_name:r,structure_name:a})})).ok?console.log("Structure selection API call successful"):console.error("Structure selection API call failed")}}catch(e){console.error("Error calling select-structure API:",e)}r.push("/dashboard")};return(0,a.jsxs)("div",{className:"flex h-[calc(100vh-80px)] bg-gray-50 text-gray-800",children:[(0,a.jsxs)("div",{className:"w-64 flex-shrink-0 bg-white border-r border-gray-200 flex flex-col p-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-6 text-gray-800",children:"Fields"}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)("div",{className:"space-y-2",children:o.fields.map(e=>(0,a.jsxs)("button",{onClick:()=>j(e.field_name),className:"w-full flex items-center gap-3 p-3 rounded-lg text-sm font-medium transition-all duration-200 text-left border ".concat(d===e.field_name?"bg-blue-50 text-blue-700 border-blue-200 shadow-sm":"hover:bg-gray-50 border-transparent hover:border-gray-200"),children:[(0,a.jsx)(c.A,{className:"w-5 h-5 ".concat(d===e.field_name?"text-blue-500":"text-gray-400")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"truncate font-medium",children:e.field_name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.structures_count," structures"]})]})]},e.field_name))})})]}),(0,a.jsxs)("div",{className:"flex-1 bg-gray-50 border-r border-gray-200 flex flex-col",children:[(0,a.jsx)("div",{className:"p-4 border-b font-semibold text-lg bg-white shadow-sm",children:d?'Structures in "'.concat(d,'"'):"Select a field to view structures"}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:w?(0,a.jsxs)("div",{className:"flex items-center justify-center h-32",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 animate-spin text-blue-500"}),(0,a.jsx)("span",{className:"ml-2 text-gray-600",children:"Loading structures..."})]}):f?(0,a.jsx)("div",{className:"bg-white m-4 rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("tr",{children:(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Structure Name"})})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.structures.map(e=>(0,a.jsx)("tr",{onClick:()=>_(e.structure_name),className:"cursor-pointer transition-all duration-200 ".concat(h===e.structure_name?"bg-blue-50 border-l-4 border-blue-500":"hover:bg-gray-50"),children:(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.A,{className:"w-4 h-4 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.structure_name}),e.error&&(0,a.jsx)("div",{className:"text-xs text-red-500",children:"(Error loading)"})]})]})})},e.structure_name))})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-32 text-gray-500",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.A,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),(0,a.jsx)("p",{children:"Select a field to view its structures"})]})})})]})]})}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(2115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),c=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:o="",children:d,iconNode:m,...h}=e;return(0,a.createElement)("svg",{ref:t,...u,width:s,height:s,stroke:r,strokeWidth:c?24*Number(l)/Number(s):l,className:n("lucide",o),...!d&&!i(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,a.forwardRef)((r,l)=>{let{className:i,...u}=r;return(0,a.createElement)(o,{ref:l,iconNode:t,className:n("lucide-".concat(s(c(e))),"lucide-".concat(e),i),...u})});return r.displayName=c(e),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(850)),_N_E=e.O()}]);